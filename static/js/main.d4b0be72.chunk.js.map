{"version":3,"sources":["actions/types.js","Components/SearchPage/SearchPageComponents/Search.js","actions/updateImages.js","actions/changeQuery.js","Components/SearchPage/SearchPage.js","Components/ResultsPage/ResultsPage.js","App.js","reportWebVitals.js","reducers/imagesUpdateReducer.js","reducers/changeQueryReducer.js","reducers/index.js","store.js","index.js"],"names":["UPDATE_IMAGES","CHANGE_QUERY","Search","props","state","searchQuery","tags","handleEnter","bind","this","changeQuery","Unsplash","accessKey","search","photos","then","toJson","json","updateImages","results","array","Set","i","length","description","includes","add","alt_description","j","title","setState","noTags","history","push","console","log","e","collectTags","className","placeholder","onChange","filterTags","target","value","onKeyPress","to","activeClassName","slice","map","index","Component","compose","withRouter","connect","images","query","dispatch","image","type","payload","SearchPage","ResultsPage","App","location","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","combineReducers","action","middleware","thunk","store","createStore","rootReducer","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4b0be72.chunk.js","sourcesContent":["export const UPDATE_IMAGES= 'UPDATE_IMAGES';\r\nexport const CHANGE_QUERY = 'CHANGE_QUERY';","import React, { Component } from \"react\";\r\nimport Unsplash, { toJson } from \"unsplash-js\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { connect } from 'react-redux';\r\nimport  {updateImages}from '../../../actions/updateImages';\r\nimport  {changeQuery}from '../../../actions/changeQuery';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {withRouter} from \"react-router-dom\"\r\nimport {compose } from 'redux'\r\nclass Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchQuery: \"\",\r\n      tags: []\r\n    };\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n  }\r\n  componentDidUpdate(){\r\n    this.props.changeQuery(this.state.searchQuery);\r\n  }\r\n  collectTags() {\r\n    const unsplash = new Unsplash({\r\n      accessKey: \"mwcZJW1qYyORxKFdUfn5Hn12UO1aDqVip2Yrj2S4TJk\",\r\n    });\r\n    unsplash.search\r\n      .photos(this.state.searchQuery, 1, 30)\r\n      .then(toJson)\r\n      .then((json) => {\r\n        \r\n        this.props.updateImages(json.results);\r\n        let array = new Set();\r\n        for (let i = 0; i < json.results.length; i++) {\r\n          if(  json.results[i].description?.includes(this.state.searchQuery))\r\n          array.add(json.results[i].description);\r\n  \r\n          if( json.results[i].alt_description?.includes(this.state.searchQuery))\r\n          array.add(json.results[i].alt_description);\r\n\r\n          for (let j = 0; j < json.results[i].tags.length; j++) {\r\n            if(json.results[i].tags[j].title.includes(this.state.searchQuery))\r\n            array.add(json.results[i].tags[j].title);\r\n          }\r\n        }\r\n        this.setState({\r\n          tags: [...array],\r\n        });\r\n        if(!this.state.tags.length){\r\n          this.setState({\r\n            noTags: true,\r\n          });\r\n        }\r\n        else{\r\n          this.setState({\r\n            noTags: false,\r\n          });\r\n        }\r\n      });\r\n  }\r\n  handleEnter(){\r\n    this.props.history.push(\"/ResultsPage\")//go to main\r\n    console.log(this.props.history)\r\n  }\r\n  filterTags(e) {\r\n    this.setState(\r\n      {\r\n        searchQuery: e,\r\n      },\r\n      () => {\r\n        if (this.state.searchQuery.length >= 3) {\r\n          this.collectTags();\r\n        }\r\n        else{\r\n          this.setState({\r\n            tags: [],\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <section className=\"search\">\r\n        <input className=\"search__input\" placeholder=\"type keyword (min 3 chars)\" onChange={(e) => this.filterTags(e.target.value)} onKeyPress={()=>{this.handleEnter()}} /><NavLink to=\"/ResultsPage\" activeClassName=\"active\"><SearchIcon className=\"search__icon\"/></NavLink>\r\n        <ul className=\"search__suggest\">\r\n        {this.state.tags.slice(0, 5).map((value, index) => {\r\n        return <li key={index} className=\"search__suggest__option\"><NavLink to=\"/ResultsPage\" activeClassName=\"active\">{value}</NavLink></li>\r\n      })}\r\n\r\n        </ul>\r\n        {this.state.noTags ? <div className=\"search__none\">No results</div> : null}\r\n      </section>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  images: state.images.images,\r\n  query: state.query.query,\r\n  });\r\n\r\n  export default compose(\r\n    withRouter,\r\n    connect(mapStateToProps,{updateImages, changeQuery})\r\n  )(Search);","import {UPDATE_IMAGES} from './types';\r\n\r\nexport const updateImages= (updateImages) => dispatch => {\r\nlet image=updateImages.map(image=> {return image});\r\ndispatch({\r\n  type: UPDATE_IMAGES,\r\n  payload:image\r\n});\r\n};","import { CHANGE_QUERY} from './types';\r\n\r\nexport const changeQuery= (changeQuery) => dispatch => {\r\nlet query=changeQuery;\r\ndispatch({\r\n  type: CHANGE_QUERY,\r\n  payload:query\r\n});\r\n};","import React, { Component } from \"react\";\r\nimport  Search  from \"./SearchPageComponents/Search\";\r\nexport class SearchPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"search-bg\">\r\n          <h1 className=\"search__title\">Image search</h1>\r\n        <Search />\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Search from \"../SearchPage/SearchPageComponents/Search\"\r\nexport class ResultsPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"results\">\r\n        <Search/>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import \"./App.css\";\nimport { SearchPage } from \"./Components/SearchPage/SearchPage\";\nimport { ResultsPage } from \"./Components/ResultsPage/ResultsPage\";\nimport { Route, Switch,withRouter } from \"react-router-dom\";\nfunction App({location}) {\n  return (\n    <div className=\"App\">\n              \n      <Switch location={location}>\n                  \n        <Route exact path=\"/image-search\" component={SearchPage} />\n                  \n        <Route path=\"/ResultsPage\" component={ResultsPage} />\n               \n        <Route component={SearchPage} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { UPDATE_IMAGES} from '../actions/types';\r\n\r\nconst initialState ={};\r\n\r\nexport default function(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case  UPDATE_IMAGES:\r\n      return {\r\n        ...state,\r\nimages:action.payload\r\n      }\r\n      default: \r\n      return state;\r\n  }\r\n}\r\n","import {CHANGE_QUERY} from '../actions/types';\r\n\r\nconst initialState ={};\r\n\r\nexport default function(state = initialState, action) {\r\n\r\n  switch (action.type) {\r\n    case  CHANGE_QUERY:\r\n      return {\r\n        ...state,\r\nquery:action.payload\r\n      }\r\n      default: \r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport imagesUpdateReducer from './imagesUpdateReducer';\r\nimport changeQueryReducer from './changeQueryReducer';\r\n\r\n\r\n\r\nexport default combineReducers({\r\nimages :imagesUpdateReducer,\r\nquery:changeQueryReducer\r\n\r\n});","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() //comment this!!!\r\n  )\r\n);\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport { HashRouter as BrowserRouter, Route } from \"react-router-dom\";\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n  <BrowserRouter>\n    <Route path=\"/\" component={App} />\n  </BrowserRouter>\n</Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}