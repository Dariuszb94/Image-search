(this["webpackJsonpphoto-search"]=this["webpackJsonpphoto-search"]||[]).push([[0],{25:function(e,t,s){},47:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(0),c=s.n(n),r=s(15),i=s.n(r),l=(s(25),s(4)),u=s(5),o=s(7),h=s(6),j=s(18),d=s(9),g=s.n(d),b=s(16),v=s.n(b),O=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={searchQuery:"",tags:[]},a}return Object(u.a)(s,[{key:"collectTags",value:function(){var e=this;new g.a({accessKey:"mwcZJW1qYyORxKFdUfn5Hn12UO1aDqVip2Yrj2S4TJk"}).search.photos(this.state.searchQuery,1,30).then(d.toJson).then((function(t){for(var s=new Set,a=0;a<t.results.length;a++){var n,c;(null===(n=t.results[a].description)||void 0===n?void 0:n.includes(e.state.searchQuery))&&s.add(t.results[a].description),(null===(c=t.results[a].alt_description)||void 0===c?void 0:c.includes(e.state.searchQuery))&&s.add(t.results[a].alt_description);for(var r=0;r<t.results[a].tags.length;r++)t.results[a].tags[r].title.includes(e.state.searchQuery)&&s.add(t.results[a].tags[r].title)}e.setState({tags:Object(j.a)(s)}),e.state.tags.length?e.setState({noTags:!1}):e.setState({noTags:!0})}))}},{key:"filterTags",value:function(e){var t=this;this.setState({searchQuery:e},(function(){t.state.searchQuery.length>=3?t.collectTags():t.setState({tags:[]})}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("section",{className:"search",children:[Object(a.jsx)("input",{className:"search__input",onChange:function(t){return e.filterTags(t.target.value)}}),Object(a.jsx)(v.a,{className:"search__icon"}),Object(a.jsx)("ul",{className:"search__suggest",children:this.state.tags.slice(0,5).map((function(e,t){return Object(a.jsx)("li",{className:"search__suggest__option",children:e},t)}))}),this.state.noTags?Object(a.jsx)("div",{className:"search__none",children:"No results"}):null]})}}]),s}(n.Component),f=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={},a}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("section",{className:"search-bg",children:[Object(a.jsx)("h1",{className:"search__title",children:"Image search"}),Object(a.jsx)(O,{})]})}}]),s}(n.Component);var p=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(f,{})})},m=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,58)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root")),m()}},[[47,1,2]]]);
//# sourceMappingURL=main.3653f535.chunk.js.map